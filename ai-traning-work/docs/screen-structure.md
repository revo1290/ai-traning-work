# 画面構成書

## 画面一覧

| No | 画面名 | パス | 概要 |
|----|--------|------|------|
| 1 | ホーム | `/` | ダッシュボード概要、クイックアクセス |
| 2 | 検索 | `/search` | SPLクエリによるログ検索 |
| 3 | ダッシュボード一覧 | `/dashboards` | 作成したダッシュボード一覧 |
| 4 | ダッシュボード詳細 | `/dashboards/[id]` | 個別ダッシュボード表示・編集 |
| 5 | データ取り込み | `/data` | ログファイルのアップロード |
| 6 | アラート設定 | `/alerts` | アラートルールの管理 |
| 7 | フィールド抽出 | `/fields` | カスタムフィールド抽出ルール管理 |
| 8 | 練習問題 | `/practice` | SPLクエリの練習問題 |
| 9 | 設定 | `/settings` | アプリケーション設定 |

## 共通レイアウト

```
+----------------------------------------------------------+
|  ロゴ           検索バー              時間範囲選択        |
+--------+------------------------------------------------+
|        |                                                |
| サイド |              メインコンテンツ                   |
| バー   |                                                |
|        |                                                |
| - ホーム|                                               |
| - 検索 |                                                |
| - ダッシュ|                                             |
| - データ|                                               |
| - アラート|                                             |
| - フィールド|                                           |
| - 練習問題|                                             |
| - 設定 |                                                |
+--------+------------------------------------------------+
```

## 各画面詳細

### 1. ホーム画面 (`/`)

- 概要統計（総ログ数、今日のイベント数）
- 最近の検索履歴
- ダッシュボードへのクイックリンク
- アラート状況サマリー

### 2. 検索画面 (`/search`)

- SPLクエリ入力エリア
  - 構文エラーのハイライト表示
  - コマンド入力時のヘルプポップアップ
  - SPLテンプレート・例文集へのアクセス
- 時間範囲セレクター
- 検索結果テーブル
- フィールドサイドバー（抽出されたフィールド一覧）
- 検索結果の可視化オプション
- エクスポートボタン（CSV/JSON）
- 検索の保存ボタン
- クエリ履歴パネル

### 3. ダッシュボード一覧 (`/dashboards`)

- ダッシュボードカード表示
- 新規作成ボタン
- 検索・フィルター機能

### 4. ダッシュボード詳細 (`/dashboards/[id]`)

- パネルのグリッドレイアウト
- パネル追加・編集・削除
- 対応パネルタイプ:
  - 折れ線グラフ
  - 棒グラフ
  - 円グラフ
  - テーブル
  - 単一値
- 編集モード切替
- ドリルダウン機能（チャートクリックで詳細検索へ遷移）

### 5. データ取り込み画面 (`/data`)

- ファイルアップロードエリア（ドラッグ&ドロップ対応）
- ログ形式選択（自動検出 or 手動選択）
- プレビュー表示
- 取り込み履歴一覧
- サンプルデータ読み込みボタン

### 6. アラート設定画面 (`/alerts`)

- アラートルール一覧
- 新規ルール作成
  - SPLクエリ条件
  - 閾値設定
  - 有効/無効切替
- アラート履歴タブ

### 7. フィールド抽出画面 (`/fields`)

- 抽出ルール一覧
- 新規ルール作成
  - 正規表現パターン入力
  - 対象ログソース選択
  - プレビュー表示
- ルールの編集・削除
- ルールのテスト機能

### 8. 練習問題画面 (`/practice`)

- 難易度別の問題一覧（初級・中級）
- 問題の説明と期待される結果
- SPLクエリ入力エリア
- 回答の検証・フィードバック
- 進捗状況の表示
- ヒント機能

### 9. 設定画面 (`/settings`)

- データ保持期間設定
- 表示設定
- データ初期化オプション

## サンプルデータ

### 1. Webサーバーログ
- Apache/Nginx形式のアクセスログ
- 約10,000件

### 2. ECサイトアプリケーションログ
- JSON形式
- 購入、カート追加、商品閲覧などのイベント
- 約5,000件

### 3. セキュリティログ
- syslog形式
- ログイン成功/失敗、アクセス拒否など
- 約3,000件

### 4. JVM GCログ
- G1GC/ParallelGC形式
- GCイベント、ヒープ使用量、停止時間など
- 約2,000件

### 5. Kubernetesログ
- コンテナログ形式
- Pod起動/停止、エラー、リソース状況など
- 約3,000件

### 6. データベースログ
- MySQL slow query形式
- クエリ実行時間、ロック待ち、エラーなど
- 約1,500件
